{
"$schema":"http://json-schema.org/draft-07/schema#",
"title":"Spack core configuration file schema",
"type":"object",
"additionalProperties":false,
"properties":{
"config":{
"type":"object",
"default":{},
"properties":{
"flags":{
"type":"object",
"properties":{
"keep_werror":{
"type":"string",
"enum":[
"all",
"specific",
"none"
]
}
}
},
"shared_linking":{
"anyOf":[
{
"type":"string",
"enum":[
"rpath",
"runpath"
]
},
{
"type":"object",
"properties":{
"type":{
"type":"string",
"enum":[
"rpath",
"runpath"
]
},
"bind":{
"type":"boolean"
},
"missing_library_policy":{
"enum":[
"error",
"warn",
"ignore"
]
}
}
}
]
},
"install_tree":{
"type":"object",
"properties":{
"root":{
"type":"string"
},
"padded_length":{
"oneOf":[
{
"type":"integer",
"minimum":0
},
{
"type":"boolean"
}
]
},
"projections":{
"type":"object",
"patternProperties":{
"all|\\w[\\w-]*":{
"type":"string"
}
}
}
}
},
"concretization_cache":{
"type":"object",
"properties":{
"enable":{
"type":"boolean"
},
"url":{
"type":"string"
},
"entry_limit":{
"type":"integer",
"minimum":0
},
"size_limit":{
"type":"integer",
"minimum":0
}
}
},
"install_hash_length":{
"type":"integer",
"minimum":1
},
"build_stage":{
"oneOf":[
{
"type":"string"
},
{
"type":"array",
"items":{
"type":"string"
}
}
]
},
"stage_name":{
"type":"string"
},
"develop_stage_link":{
"type":"string"
},
"test_stage":{
"type":"string"
},
"extensions":{
"type":"array",
"items":{
"type":"string"
}
},
"template_dirs":{
"type":"array",
"items":{
"type":"string"
}
},
"license_dir":{
"type":"string"
},
"source_cache":{
"type":"string"
},
"misc_cache":{
"type":"string"
},
"environments_root":{
"type":"string"
},
"connect_timeout":{
"type":"integer",
"minimum":0
},
"verify_ssl":{
"type":"boolean"
},
"ssl_certs":{
"type":"string"
},
"suppress_gpg_warnings":{
"type":"boolean"
},
"debug":{
"type":"boolean"
},
"checksum":{
"type":"boolean"
},
"deprecated":{
"type":"boolean"
},
"locks":{
"type":"boolean"
},
"dirty":{
"type":"boolean"
},
"build_language":{
"type":"string"
},
"build_jobs":{
"type":"integer",
"minimum":1
},
"concurrent_packages":{
"type":"integer",
"minimum":1
},
"ccache":{
"type":"boolean"
},
"db_lock_timeout":{
"type":"integer",
"minimum":1
},
"package_lock_timeout":{
"anyOf":[
{
"type":"integer",
"minimum":1
},
{
"type":"null"
}
]
},
"allow_sgid":{
"type":"boolean"
},
"install_status":{
"type":"boolean"
},
"binary_index_root":{
"type":"string"
},
"url_fetch_method":{
"type":"string",
"pattern":"^urllib$|^curl( .*)*"
},
"additional_external_search_paths":{
"type":"array",
"items":{
"type":"string"
}
},
"binary_index_ttl":{
"type":"integer",
"minimum":0
},
"aliases":{
"type":"object",
"patternProperties":{
"\\w[\\w-]*":{
"type":"string"
}
}
}
}
}
}
}